function init2(){for(var e=document.querySelectorAll(".item"),t=0;t<e.length;t++)e[t].style.height=e[t].offsetHeight+"px";var n=document.querySelector(".address");document.querySelector(".yandex-map").style.top=n.offsetTop+"px";var r=document.querySelector(".call-button"),o=document.querySelector(".form-callback"),i=o.querySelector("form"),s=o.querySelector(".callback-close"),a=o.querySelector("[name='name']"),c=o.querySelector("[name='email']"),l=o.querySelector("[name='message']"),u=!0,d="";try{d=localStorage.getItem("nameForm")}catch(e){u=!1}r.addEventListener("click",function(e){e.preventDefault(),o.classList.add("modal-show"),d?(a.value=localStorage.getItem("nameForm"),c.value=localStorage.getItem("email"),l.focus()):a.focus()}),s.addEventListener("click",function(e){e.preventDefault(),o.classList.remove("modal-show"),o.classList.remove("modal-error")}),i.addEventListener("submit",function(e){a.value&&c.value&&l.value?u&&(localStorage.setItem("nameForm",a.value),localStorage.setItem("email",c.value)):(e.preventDefault(),o.classList.remove("modal-error"),o.offsetWidth=o.offsetWidth,o.classList.add("modal-error"),alert("Нужно заполнить все поля"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),o.classList.contains("modal-show")&&(o.classList.remove("modal-show"),o.classList.remove("modal-error")))})}function init(){var e=new ymaps.Map("map",{center:[59.93932434,30.32926211],zoom:16,controls:[]},{suppressMapOpenBlock:!0});myPlacemark=new ymaps.Placemark([59.93862518,30.32290403],{hintContent:"Магазин мороженого Глейси",balloonContent:"ул. Большая Конюшенная 19/8"},{iconLayout:"default#image",iconImageHref:"img/pin-with-shadow.png",iconImageSize:[218,142],iconImageOffset:[-40,-135]}),e.geoObjects.add(myPlacemark)}window.onload=init2,function(e,n){var i,s,a,c,t,r,o,l,u,d,f,p,m,v,h,y,g=this,_={ns:{},supports:{},env:e,project:{preload:["package.system"],combineBatchSize:500}};function b(){y=y||setTimeout(w,h)}function w(){clearTimeout(y),y=null;var e,t=(x(e=[],d),x(e,u),e.join(","));if(t){var n=s+"/vars="+t+"/*";if(!a||!navigator.sendBeacon(i,n)){var r=new Image,o=(new Date).getTime()+Math.round(100*Math.random());r.src=i+"/rnd="+o+n}b()}}function x(e,t){for(var n in t)if(t.hasOwnProperty(n)&&t[n].length&&(e.push(n+"="+t[n].shift()),e.length>=v))return}_.performance=((t={exports:{}}).exports,r=window.performance||Object.create(null),o=r.now?r.now.bind(r):function(){return Date.now()},l=r.getEntriesByType?function(t){return r.getEntriesByType("resource").filter(function(e){return e.name===t})[0]}:function(){},u={},d={},f={initjs:"i",mapjs:"m",combine_s:"cs",combine_m:"cm",combine_l:"cl"},p={eval:"e",duration:"d",cached:"c",encodedSize:"esz",decodedSize:"dsz",responseDuration:"res",requestDuration:"req"},m={statistics:{combine:{total:0,size:0,modules:0}},initTimings:{},now:o,getResourceTimings:function(e){return l(e)||{}},init:function(e){i=e.url,s="/pid=443/cid=73188/dtype=stred"+e.data,a=Boolean(e.useSendBeacon&&navigator.sendBeacon),c=e.enable,m.initTimings=m.getResourceTimings(e.initUrl),m.saveResourceTimings("initjs",m.initTimings,{size:!1,cached:!1})},saveMeasure:function(e,t){if(c){var n=/^@/.test(e);if(n){var r=e.replace(/^@/,"").split(".");e=(f[r[0]]||r[0])+"."+(p[r[1]]||r[1])}if(t=Math.round(t),!isNaN(t)){var o=n?u:d;o[e]=o[e]||[],o[e].push(t),b()}}},startMeasure:function(t,n){n=void 0===n?o():n;var r=!1;return{finish:function(e){r||(e=void 0===e?o():e,m.saveMeasure(t,e-n),r=!0)}}},saveResourceTimings:function(e,t,n){var r="object"==typeof t?t:l(t);if(r&&(n=n||{},e=e.replace(/^@?/,"@"),this.saveMeasure(e+".duration",r.duration),r.responseStart)){var o=0===r.transferSize?1:0;this.saveMeasure(e+".responseDuration",r.responseEnd-r.responseStart),this.saveMeasure(e+".requestDuration",r.responseStart-r.requestStart),!1!==n.cached&&this.saveMeasure(e+".cached",o),!1===n.size||o||(this.saveMeasure(e+".encodedSize",r.encodedBodySize/1024),this.saveMeasure(e+".decodedSize",r.decodedBodySize/1024))}}},v=40,h=5e3,y=null,window.addEventListener("beforeunload",function(){m.saveMeasure("combine.total",m.statistics.combine.total),m.saveMeasure("combine.modules",m.statistics.combine.modules),m.saveMeasure("combine.size",m.statistics.combine.size/1024),w()}),t.exports=m,t.exports);var S,j,E,k,C,A,M,R,T,D,O,B,F,L,P,I,q,N,V,z=_.performance.startMeasure("@initjs.eval");function U(e,t){var n="";return _.env.debug&&(n+="("+e+"): "),n+t}function W(){var t=!0;"MacOS"==_.env.browser.osFamily&&/^10\.[0-8](\.|$)/.test(_.env.browser.osVersion)&&(t=!1,G("OldMac"));["requestAnimationFrame","Worker","URL","Blob","XMLHttpRequest","Set","Map","WebAssembly"].forEach(function(e){window[e]||(t=!1,G(e))}),"function"!=typeof Math.trunc&&(t=!1,G("MathTrunc"));var e=_.supports.graphics.hasWebGl();if(!e||"webgl"!==e.contextName)return G("hasWebGl"),!1;var n=e.context;0==n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)&&(t=!1,G("MAX_VERTEX_TEXTURE_IMAGE_UNITS")),n.getExtension("OES_vertex_array_object")||(t=!1,G("OES_vertex_array_object")),n.getExtension("OES_standard_derivatives")||(t=!1,G("OES_standard_derivatives"));var r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);if(r&&0!=r.precision||(t=!1,G("highp")),!function(){var e=document.createElement("canvas");e.width=1,e.height=1;var t=e.getContext("webgl",{alpha:!1,depth:!1,antialias:!1}),n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,"#version 100\nattribute vec2 p;\nvoid main() {\n    gl_Position = vec4(p,0,1);\n    gl_PointSize = 1.0;\n}"),t.compileShader(n);var r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,"#version 100\nvoid main() {\n    gl_FragColor = vec4(1, 0, 0, 1);\n}"),t.compileShader(r);var o=t.createProgram();t.attachShader(o,n),t.attachShader(o,r),t.bindAttribLocation(o,0,"p"),t.linkProgram(o);var i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0]),t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0),t.clearColor(0,1,0,1),t.clear(t.COLOR_BUFFER_BIT),t.useProgram(o),t.drawArrays(t.POINTS,0,1);var s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),255===s[0]}()){var o=H();t=!1,_.count("error",{path:["vectorEngine.drawPointsError",_.env.browser.platform,_.env.browser.name,o.vendor,o.renderer].join("."),share:1})}return t}function G(e){var t=H();_.count("error",{path:["vectorEngine.reasonsVectorNotSupported",e,_.env.browser.platform,_.env.browser.name,t.vendor,t.renderer].join("."),share:.1})}function H(){var e={},t=_.supports.graphics.hasWebGl();if(!t)return e;var n=t.context,r=n.getExtension("WEBGL_debug_renderer_info");return r&&(e.vendor=n.getParameter(r.UNMASKED_VENDOR_WEBGL).replace(/\W/g,"_"),e.renderer=n.getParameter(r.UNMASKED_RENDERER_WEBGL).replace(/\W/g,"_")),e}function K(){if(!function(){if(window.WebGLRenderingContext){return!("Webkit"==_.env.browser.engine&&+_.env.browser.engineVersion<537)&&!{"Samsung Internet":!0,AndroidBrowser:!0}[_.env.browser.name]}}())return null;var t,e;try{var n=document.createElement("canvas");(e=n.getContext(t="webgl",k))||((e=n.getContext(t="experimental-webgl",k))||(t=null))}catch(e){t=null}return t?{contextName:t,context:e}:null}function X(e){return void 0===T[e]?T[e]=Y(t=e)||Y(D+J(t))||Y(_.env.browser.cssPrefix+J(t)):T[e];var t}function Y(e){return void 0!==(A=A||document.createElement("div")).style[e]?e:null}function J(e){return e?e.substr(0,1).toUpperCase()+e.substr(1):e}function Z(e){return M[e]&&X("transitionProperty")?((n=X(t=M[e]))&&n!=t&&(n="-"+D+"-"+t),n):null;var t,n}function $(){(V||function(){N.push(arguments)}).apply(null,arguments)}_.count=((q={exports:{}}).exports,N=[],V=null,$.provideImplementation=function(e){if(V)throw new Error("ym.count: implementation was already provided.");V=e(N)},q.exports=$,q.exports),_.vow=_.ns.vow=((I={exports:{}}).exports,function(d){function o(e){t(function(){throw e})}function s(e){return"function"==typeof e}function i(e){return null!==e&&"object"==typeof e}function l(e){for(var t=[],n=0,r=e.length;n<r;)t.push(n++);return t}function c(t,n){return function(e){t.call(this,e,n)}}function a(){this._promise=new e}var u,t=function(){function n(e){return o.push(e),1===o.length}function r(){var e=o,t=0,n=o.length;for(o=[];t<n;)e[t++]()}var o=[];if("function"==typeof setImmediate)return function(e){n(e)&&setImmediate(r)};if("object"==typeof process&&process.nextTick)return function(e){n(e)&&process.nextTick(r)};var e=d.MutationObserver||d.WebKitMutationObserver;if(e){var t=1,i=document.createTextNode("");return new e(r).observe(i,{characterData:!0}),function(e){n(e)&&(i.data=t*=-1)}}if(d.postMessage){var s=!0;if(d.attachEvent){function a(){s=!1}d.attachEvent("onmessage",a),d.postMessage("__checkAsync","*"),d.detachEvent("onmessage",a)}if(s){function c(e){e.data===l&&(e.stopPropagation&&e.stopPropagation(),r())}var l="__promise"+Math.random()+"_"+new Date;return d.addEventListener?d.addEventListener("message",c,!0):d.attachEvent("onmessage",c),function(e){n(e)&&d.postMessage(l,"*")}}}var u=d.document;return"onreadystatechange"in u.createElement("script")?function(e){var t;n(e)&&((t=u.createElement("script")).onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,r()},(u.documentElement||u.body).appendChild(t))}:function(e){n(e)&&setTimeout(r,0)}}(),n=Object.prototype.toString,f=Array.isArray||function(e){return"[object Array]"===n.call(e)},p=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};a.prototype={promise:function(){return this._promise},resolve:function(e){this._promise.isResolved()||this._promise._resolve(e)},reject:function(e){this._promise.isResolved()||(b.isPromise(e)?(e=e.then(function(e){var t=b.defer();return t.reject(e),t.promise()}),this._promise._resolve(e)):this._promise._reject(e))},notify:function(e){this._promise.isResolved()||this._promise._notify(e)}};var r=0,m=1,v=2,h=3,e=function(e){if(this._value=u,this._status=r,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],e){var t=this,n=e.length;e(function(e){t.isResolved()||t._resolve(e)},1<n?function(e){t.isResolved()||t._reject(e)}:u,2<n?function(e){t.isResolved()||t._notify(e)}:u)}};e.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==r},isFulfilled:function(){return this._status===v},isRejected:function(){return this._status===h},then:function(e,t,n,r){var o=new a;return this._addCallbacks(o,e,t,n,r),o.promise()},catch:function(e,t){return this.then(u,e,t)},fail:function(e,t){return this.then(u,e,t)},always:function(e,t){function n(){return e.call(this,r)}var r=this;return this.then(n,n,t)},progress:function(e,t){return this.then(u,u,e,t)},spread:function(t,e,n){return this.then(function(e){return t.apply(this,e)},e,n)},done:function(e,t,n,r){this.then(e,t,n,r).fail(o)},delay:function(n){var r,e=this.then(function(e){var t=new a;return r=setTimeout(function(){t.resolve(e)},n),t.promise()});return e.always(function(){clearTimeout(r)}),e},timeout:function(e){var t=new a,n=setTimeout(function(){t.reject(new b.TimedOutError("timed out"))},e);return this.then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise().always(function(){clearTimeout(n)}),t.promise()},_vow:!0,_resolve:function(e){if(!(this._status>m)){if(e===this)return void this._reject(TypeError("Can't resolve promise with itself"));if(this._status=m,e&&e._vow)return void(e.isFulfilled()?this._fulfill(e.valueOf()):e.isRejected()?this._reject(e.valueOf()):e.then(this._fulfill,this._reject,this._notify,this));if(i(e)||s(e)){var t;try{t=e.then}catch(e){return void this._reject(e)}if(s(t)){var n=this,r=!1;try{t.call(e,function(e){r||(r=!0,n._resolve(e))},function(e){r||(r=!0,n._reject(e))},function(e){n._notify(e)})}catch(e){r||this._reject(e)}return}}this._fulfill(e)}},_fulfill:function(e){this._status>m||(this._status=v,this._value=e,this._callCallbacks(this._fulfilledCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=u)},_reject:function(e){this._status>m||(this._status=h,this._value=e,this._callCallbacks(this._rejectedCallbacks,e),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=u)},_notify:function(e){this._callCallbacks(this._progressCallbacks,e)},_addCallbacks:function(e,t,n,r,o){var i;n&&!s(n)?(o=n,n=u):r&&!s(r)&&(o=r,r=u),this.isRejected()||(i={defer:e,fn:s(t)?t:u,ctx:o},this.isFulfilled()?this._callCallbacks([i],this._value):this._fulfilledCallbacks.push(i)),this.isFulfilled()||(i={defer:e,fn:n,ctx:o},this.isRejected()?this._callCallbacks([i],this._value):this._rejectedCallbacks.push(i)),this._status<=m&&this._progressCallbacks.push({defer:e,fn:r,ctx:o})},_callCallbacks:function(s,a){var c=s.length;if(c){var l=this.isResolved(),u=this.isFulfilled(),d=this.isRejected();t(function(){for(var e,t,n,r=0;r<c;)if(t=(e=s[r++]).defer,n=e.fn){var o,i=e.ctx;try{o=i?n.call(i,a):n(a)}catch(e){t.reject(e);continue}l?t.resolve(o):t.notify(o)}else u?t.resolve(a):d?t.reject(a):t.notify(a)})}}};var y={cast:function(e){return b.cast(e)},all:function(e){return b.all(e)},race:function(e){return b.anyResolved(e)},resolve:function(e){return b.resolve(e)},reject:function(e){return b.reject(e)}};for(var g in y)y.hasOwnProperty(g)&&(e[g]=y[g]);var _,b={Deferred:a,Promise:e,defer:function(){return new a},when:function(e,t,n,r,o){return b.cast(e).then(t,n,r,o)},fail:function(e,t,n){return b.when(e,u,t,n)},always:function(e,t,n){return b.when(e).always(t,n)},progress:function(e,t,n){return b.when(e).progress(t,n)},spread:function(e,t,n,r){return b.when(e).spread(t,n,r)},done:function(e,t,n,r,o){b.when(e).done(t,n,r,o)},isPromise:function(e){return i(e)&&s(e.then)},cast:function(e){return e&&e._vow?e:b.resolve(e)},valueOf:function(e){return e&&s(e.valueOf)?e.valueOf():e},isFulfilled:function(e){return!e||!s(e.isFulfilled)||e.isFulfilled()},isRejected:function(e){return!(!e||!s(e.isRejected))&&e.isRejected()},isResolved:function(e){return!e||!s(e.isResolved)||e.isResolved()},resolve:function(e){var t=b.defer();return t.resolve(e),t.promise()},fulfill:function(e){var t=b.defer(),n=t.promise();return t.resolve(e),n.isFulfilled()?n:n.then(null,function(e){return e})},reject:function(e){var t=b.defer();return t.reject(e),t.promise()},invoke:function(e,t){var n,r=Math.max(arguments.length-1,0);if(r){n=Array(r);for(var o=0;o<r;)n[o++]=arguments[o]}try{return b.resolve(n?e.apply(d,n):e.call(d))}catch(e){return b.reject(e)}},all:function(e){var n=new a,t=f(e),r=(t?l:p)(e),o=r.length,i=t?[]:{};if(!o)return n.resolve(i),n.promise();var s=o;return b._forEach(e,function(e,t){i[r[t]]=e,--s||n.resolve(i)},n.reject,n.notify,n,r),n.promise()},allResolved:function(e){var t=new a,n=f(e),r=(n?l:p)(e),o=r.length,i=n?[]:{};if(!o)return t.resolve(i),t.promise();function s(){--o||t.resolve(e)}return b._forEach(e,s,s,t.notify,t,r),t.promise()},allPatiently:function(c){return b.allResolved(c).then(function(){var e,t,n,r,o=f(c),i=(o?l:p)(c),s=i.length,a=0;if(!s)return o?[]:{};for(;a<s;)n=i[a++],r=c[n],b.isRejected(r)?(e=e||(o?[]:{}),o?e.push(r.valueOf()):e[n]=r.valueOf()):e||((t=t||(o?[]:{}))[n]=b.valueOf(r));if(e)throw e;return t})},any:function(e){var t=new a,n=e.length;if(!n)return t.reject(Error()),t.promise();var r,o=0;return b._forEach(e,t.resolve,function(e){o||(r=e),++o===n&&t.reject(r)},t.notify,t),t.promise()},anyResolved:function(e){var t=new a;return e.length?b._forEach(e,t.resolve,t.reject,t.notify,t):t.reject(Error()),t.promise()},delay:function(e,t){return b.resolve(e).delay(t)},timeout:function(e,t){return b.resolve(e).timeout(t)},_forEach:function(e,t,n,r,o,i){for(var s=i?i.length:e.length,a=0;a<s;)b.when(e[i?i[a]:a],c(t,a),n,r,o),++a},TimedOutError:(_="TimedOut",w.prototype=new Error,w)};function w(e){this.name=_,this.message=e}b.__nextTick__=t;var x=!0;"object"==typeof I&&"object"==typeof I.exports&&(I.exports=b,x=!1),"object"==typeof modules&&s(modules.define)&&(modules.define("vow",function(e){e(b)}),x=!1),x&&(d.vow=b)}("undefined"!=typeof window?window:g),I.exports),_.utils=(O={vow:_.vow},F=(B={exports:{}}).exports,L=O["vow"],P=Object.prototype.hasOwnProperty,F.nextTick=L.__nextTick__,L.__nextTick__=void 0,F.isArray=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},F.extend=Object.assign?Object.assign:function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(null!=r)for(var o in r)P.call(r,o)&&(e[o]=r[o])}return e},F.setDeep=function(e,t,n){for(var r=t.split("."),o=0;o<r.length-1;o++){var i=r[o];e[i]=e[i]||{},e=e[i]}e[r[r.length-1]]=n},F.createPackage=function(e,t,n){var r=F.registerImports({},e,t);return n&&(r.__expand={depends:e,imports:t}),r},F.registerImports=function(e,t,n){for(var r=0;r<t.length;r++)n[r].__expand?F.registerImports(e,n[r].__expand.depends,n[r].__expand.imports):F.setDeep(e,t[r],n[r]);return e},B.exports),M={transform:"transform",opacity:"opacity",transitionTimingFunction:"transition-timing-function",userSelect:"user-select",height:"height"},R={},T={},D=_.env.browser.cssPrefix.toLowerCase(),_.supports.css={checkProperty:X,checkTransitionProperty:function(e){return void 0===R[e]?R[e]=Z(e):R[e]},checkTransitionAvailability:Z},_.supports.csp={isSupported:"undefined"!=typeof Blob&&"undefined"!=typeof URL,isNonceSupported:_.env.browser.name&&_.env.browser.version?!(-1!=_.env.browser.name.search("Safari")&&parseInt(_.env.browser.version)<10):null},k={failIfMajorPerformanceCaveat:!0,antialias:!1},C={},_.supports.graphics={hasSvg:function(){return"svg"in C||(C.svg=document.implementation&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),C.svg},hasCanvas:function(){if(!("canvas"in C)){var e=document.createElement("canvas"),t="getContext"in e?e.getContext("2d"):null;C.canvas=!!t&&function(e,t){e.width=226,e.height=256,t.fillStyle="#fff",t.fillRect(0,0,150,150),t.globalCompositeOperation="xor",t.fillStyle="#f00",t.fillRect(10,10,100,100),t.fillStyle="#0f0",t.fillRect(50,50,100,100);for(var n=t.getImageData(49,49,2,2),r=[],o=0;o<16;o++)r.push(n.data[o]);return"0x0x0x0x0x0x0x0x0x0x0x0x0x255x0x255"==r.join("x")}(e,t)}return C.canvas},hasWebGl:function(){return"webgl"in C||(C.webgl=K()),C.webgl},redetect:function(){C={}},getWebGlContextName:function(){return C.webgl&&C.webgl.contextName}},_.supports.vector={isSupported:function(){return void 0===E&&(E=W()),E}},_.supports.printPatchNeeded=!_.supports.css.checkProperty("printColorAdjust"),_.logger=((S={exports:{}}).exports,j="Yandex Maps JS API",S.exports={assert:function(e,t){e||_.env.debug&&console.log(U(j,t))},log:function(e){_.env.debug&&console.log(U(j,e))},notice:function(e){_.env.debug&&console.info(U(j,e))},warning:function(e){_.env.debug&&console.warn(U(j,e))},error:function(e){console.error(U(j,e))},exception:function(e,t){throw new Error(U(e,t))}},S.exports),function(){var e=_.env.browser;e.documentMode=document.documentMode,e.isIE="MSIE"==e.name||"IEMobile"==e.name,e.isEdge="Edge"==e.engine,e.isChromium=e.base&&"chromium"==e.base.toLocaleLowerCase(),e.isSafari="Safari"==e.name;var t="Edge"==e.engine||"MSIE"==e.name&&6.1<e.osVersion||"IEMobile"==e.name&&6<=e.engineVersion;e.eventMapper=t?"pointer":"touchMouse",e.androidBrokenBuild="AndroidBrowser"==e.name&&"534.30"==e.engineVersion,window.devicePixelRatio||screen.deviceXDPI&&screen.deviceXDPI,e.graphicsRenderEngine="svg",e.transformTransition="Android"==e.osFamily||"iOS"==e.osFamily||"MSIE"==e.name||e.isChromium,e.css3DTransform="WebKit"==e.engine&&!("Android"==e.osFamily&&parseFloat(e.osVersion)<3)||"Gecko"==e.engine&&10<=parseInt(e.engineVersion.split(".")[0]),e.unsupported="OperaMini"==e.name}();var Q,ee,te,ne,re,oe,ie,se,ae,ce,le,ue,de,fe,pe,me,ve,he=(pe={vow:_.vow},(me={exports:{}}).exports,ve=pe["vow"],me.exports=function(e,t){var n=document.createElement("script"),r=ve.defer();return"production"==_.env.type&&(n.crossOrigin="anonymous"),window[t]=function(e){delete window[t],n.parentElement.removeChild(n),r.resolve(e)},n.src=e,document.head.appendChild(n),r.promise()},me.exports),ye="__jsonp_"+(_.env.namespace||"ymaps"+Date.now()),ge=(Q={vow:_.vow,"./utils":_.utils},(ee={exports:{}}).exports,te=Se("vow"),ne=Se("./utils"),re=Object.prototype.hasOwnProperty,oe={},ie=Object.freeze([]),se=1,ae=2,ce=3,le=4,ue=5,de=6,fe=7,(ee.exports=je).prototype.allowRemoteLoading=function(){this._remoteLoadingAllowed.resolve()},je.prototype.isDefined=function(e){return Boolean(this._findDefinition(e))},je.prototype.preload=function(e){return e},je.prototype.define=function(e,t,n,r){var o,i,s,a;if("object"==typeof e){var c=e;e=c.name,i=c.storage,o=c.key,t=c.depends,n=c.declaration,r=c.context,s=c.dynamicDepends,a=c.exports}else 2===arguments.length&&(n=t,t=null);var l=new Ee(le,e,i,o,t,n,r,s,a);this._define(l)},je.prototype.defineSync=function(e){var t=new Ee(fe,e.name,e.storage,e.key,null,null,null,null,e.module);this._define(t)},je.prototype._define=function(e){var t=this._definitionsByName[e.name];if(t){if(t.state===ce&&e.state===le)return t.state=le,t.declaration=e.declaration,void(t.context=e.context);var n=new Error("ymaps.modules: redefinition of "+e.name);throw console.error(n),n}"function"==typeof e.depends&&(e.depends=e.depends.call({name:e.name},this._config.dependenciesContext)),e.depends=e.depends||ie,this._definitionsByName[e.name]=e,this._saveDefinitionToStorage(e)},je.prototype._resolve=function(t,e){if(!t.dynamicDepends){if(t.state===fe)return te.resolve(t.exports);if(t.state===de)return te.reject(t.exports)}t.state<ue&&!t.resolvingPromise&&(t.resolvingPromise=this._resolveCore(t,e).always(function(e){return t.resolvingPromise=void 0,e}));var n=ke(t,[e]);return te.all([t.resolvingPromise,this._require(n,e)]).then(function(){return t.state===fe?te.resolve(t.exports):te.reject(t.exports)})},je.prototype._resolveCore=function(i,e){return this._fetchModule(i,e).then(function(){return i.state=ue,this._require(i.depends,e)},this).then(function(e){function t(e,t){i.state===ue&&(i.state=t?de:fe,i.exports=t||e),r&&r.resolve(),t&&console.warn("ymaps.modules: provide(undefined, error) is deprecated and will be removed, throw instead. Module `"+i.name+"`.")}var n,r;t.async=function(e){i.state===ue&&(n=e.then(function(e){t(e)},function(e){t(void 0,e)}))},(t.provide=t).provideAsync=t.async,t.dynamicDepends=i.dynamicDepends?{getValue:function(e,t){var n=Ce(i,e,t);return n===oe?te.reject(new Error("ymaps.modules: dynamic dependency `"+e+"` is not declared.")):Ae(n)?this._require([n],t):te.resolve([n])}.bind(this),getValueSync:function(e,t){var n=Ce(i,e,t);if(!Ae(n))return n;var r=this._findDefinition(n);return r?this._requireSingleSync(r,t):void 0}.bind(this)}:null;var o=i.context||{name:i.name,depends:i.depends};try{i.declaration.apply(o,[t].concat(e))}catch(e){return i.state=de,void(i.exports=e)}return n||(i.state!==fe&&i.state!==de?(console.warn("ymaps.modules: asynchronous provide is deprecated and will be removed. Module `"+i.name+"`."),(r=te.defer()).promise()):void 0)},this)},je.prototype.require=function(e,t,n,r){var o="object"==typeof e&&!ne.isArray(e),i=1===arguments.length;o&&(t=e.successCallback,n=e.errorCallback,r=e.context,i=!t&&!n),e=Re(e);var s=this._require(e.modules,e.data);return i?s:void s.spread(t,n,r)},je.prototype.requireSync=function(e){if(1!==(e=Re(e)).modules.length)throw new Error("ymaps.modules: only one module can be required synchronously.");var t=this._findDefinition(e.modules[0]);return t&&this._requireSingleSync(t,e.data)},je.prototype._requireSingleSync=function(e,t){for(var n=ke(e,[t]),r=0,o=n.length;r<o;r++){var i=this._findDefinition(n[r]);if(!i||!this._requireSingleSync(i,t))return}return e.state===fe?e.exports:void 0},je.prototype._require=function(e,t){var n=e.map(function(e){return this._requireSingle(e,t)},this);return te.all(n)},je.prototype._requireSingle=function(t,n){var e=this._findDefinition(t);return e?this._resolve(e,n):this._modulesMapLoaded.then(function(){var e=this._findDefinition(t);return e?this._resolve(e,n):te.reject(new Error("ymaps.modules: module `"+Me(t)+"` is not defined."))},this)},je.prototype._findDefinition=function(e){if(void 0!==e)return"string"==typeof e?this._definitionsByName[e]:this._definitionsByStorage[e.storage]&&this._definitionsByStorage[e.storage][e.key]},je.prototype._saveDefinitionToStorage=function(e,t){if(e.key&&e.storage){t=t||{key:e.key,storage:e.storage};for(var n=ne.isArray(t.key)?t.key:[t.key],r=0,o=n.length;r<o;r++)this._definitionsByStorage[t.storage]=this._definitionsByStorage[t.storage]||{},this._definitionsByStorage[t.storage][n[r]]=e}},je.prototype._fetchModule=function(e,t){return e.state>=le?te.resolve():(e.fetchingDeferred=e.fetchingDeferred||te.defer(),e.state===se&&(e.state=ae,this._queuedForFetching[e.name]={definition:e,dataList:[]},this._enqueueCombine()),e.state!==ce&&this._queuedForFetching[e.name].dataList.push(t),e.fetchingDeferred.promise())},je.prototype._enqueueCombine=function(){this._combineEnqueued||(this._combineEnqueued=!0,this._modulesMapLoaded.then(function(){this._combineEnqueued=!1;var e=this._queuedForFetching;this._queuedForFetching=Object.create(null);var t=Object.create(null);for(var n in e)if(n in e){var r=e[n],o=this._getAliasesToFetchFor(n,r.dataList);ne.extend(t,o)}for(var i=Object.keys(t),s=0,a=i.length;s<a;s+=this._config.combineBatchSize)this._fetchCombine(i.slice(s,s+this._config.combineBatchSize))},this))},je.prototype._fetchCombine=function(o){this._config.fetchCombine(o).spread(function(e,t){this._sandbox=this._sandbox||this._config.createSandbox();for(var n=0,r=e.length;n<r;n++){var o=e[n][0],i=this._definitionsByAlias[o];if(e[n][1].call(null,this._sandbox),i.state===le)i.fetchingDeferred&&i.fetchingDeferred.resolve();else{i.state=de;var s=new Error("[internal] ymaps.modules: module `"+i.name+"` was not defined after dynamic module loading");i.exports=s,i.fetchingDeferred&&i.fetchingDeferred.reject(s)}i.fetchingDeferred=void 0}t()},this).catch(function(e){for(var t=0,n=o.length;t<n;t++){var r=this._definitionsByAlias[o[t]];e=new Error("[internal] ymaps.modules: dynamic module loading failed"),r.state=de,r.exports=e,r.fetchingDeferred&&r.fetchingDeferred.reject(e),r.fetchingDeferred=void 0}},this)},je.prototype._getAliasesToFetchFor=function(e,t){for(var n=[e],r=Object.create(null);n.length;){var o=n.shift(),i=this._findDefinition(o);if(!i)return void console.error("ymaps.modules: trying to fetch unknown module `"+Me(o)+"` while loading `"+Me(e)+"`.");i.state<=ae&&(i.state=ce,r[i.alias]=!0,Array.prototype.push.apply(n,i.depends)),Array.prototype.push.apply(n,ke(i,t))}return r},je.prototype._processLoadedMap=function(e){function t(e){if("function"==typeof e)return e;for(var t=[],n=0,r=e.length;n<r;n+=2){var o=e.substr(n,2);t.push(i[o])}return t}for(var i={},n=0,r=e.length;n<r;n++){var o=e[n][0],s=e[n][1];i[s]=o}for(n=0,r=e.length;n<r;n++){o=e[n][0],s=e[n][1];var a=this._definitionsByName[o];if(!a){var c=t(e[n][2]),l=e[n][3],u=e[n][4],d=e[n][5];a=new Ee(se,o,u,l,c,null,null,d),this._define(a)}a.alias=s,this._definitionsByAlias[s]=a}},ee.exports),_e="&mode="+_.env.server.params.mode+"&flags="+_.env.flags.join(",")+(_.env.cacheVersion?"&v="+_.env.cacheVersion:""),be=_.env.server.url+"/map.js?callback={CALLBACK}"+_e,we=_.env.server.url+"/combine.js?callback_prefix={CALLBACK_PREFIX}"+_e,xe=_.env.server.url+"/"+_.env.server.path.replace(/\/$/,"")+"/images/";function Se(e){return Q[e]}function je(e){this._config=e,this._sandbox=null,this._definitionsByName=Object.create(null),this._definitionsByStorage=Object.create(null),this._definitionsByAlias=Object.create(null),this._queuedForFetching=Object.create(null),this._remoteLoadingAllowed=te.defer(),this._modulesMapLoaded=this._remoteLoadingAllowed.promise().then(this._config.fetchMap).spread(function(e,t){this._processLoadedMap(e),t()},this)}function Ee(e,t,n,r,o,i,s,a,c){this.state=e,this.alias=null,this.name=t,this.storage=n,this.key=r,this.depends=o,this.dynamicDepends=a,this.declaration=i,this.context=s,this.exports=e===fe?c:void 0,this.resolvingPromise=void 0,this.fetchingDeferred=void 0}function ke(e,t){if(!e.dynamicDepends)return ie;var n=[];for(var r in e.dynamicDepends)if(re.call(e.dynamicDepends,r))for(var o=0,i=t.length;o<i;o++){var s=t[o];if(void 0!==s){var a=e.dynamicDepends[r](s);Ae(a)&&n.push(a)}}return n}function Ce(e,t,n){return re.call(e.dynamicDepends,t)?e.dynamicDepends[t].call(null,n):oe}function Ae(e){return"string"==typeof e||null!=(t=e)&&"object"==typeof t&&"string"==typeof t.key&&"string"==typeof t.storage;var t}function Me(e){return e&&"object"==typeof e?e.key+"@"+e.storage:String(e)}function Re(e){var t=ne.isArray(e);return"object"==typeof e&&!t&&re.call(e,"modules")?{modules:ne.isArray(e.modules)?e.modules:[e.modules],data:e.data}:t?{modules:e}:{modules:[e]}}function Te(t){return function(){console.warn("{NS}.modules.{FN} is not a public API and will be removed from {NS}.modules.".replace(/\{NS\}/g,_.project.namespace).replace(/\{FN\}/g,t));var e=_.modules[t].apply(_.modules,arguments);return e===_.modules?_.ns.modules:e}}_.modules=new ge({dependenciesContext:_,combineBatchSize:_.project.combineBatchSize,fetchMap:function(){if(0<=_.env.flags.indexOf("inline-map")&&n){var e=_.performance.startMeasure("@mapjs.eval");return _.vow.resolve([n,e.finish.bind(e)])}var t=ye+"_map",r=be.replace("{CALLBACK}",t);return he(r,t).then(function(e){var t=_.performance.getResourceTimings(r);_.performance.saveResourceTimings("mapjs",t);var n=_.performance.startMeasure("@mapjs.eval");return[e,n.finish.bind(n)]})},fetchCombine:function(e){_.performance.statistics.combine.total++,_.performance.statistics.combine.modules+=e.length;var r=e.length<100?"s":e.length<300?"m":"l",t=e.join(""),n=ye+"_combine",o=we.replace("{CALLBACK_PREFIX}",n)+"&load="+t;return he(o,n+"_"+t).then(function(e){var t=_.performance.getResourceTimings(o);_.performance.saveResourceTimings("combine_"+r,t),_.performance.statistics.combine.size+=t.encodedBodySize;var n=_.performance.startMeasure("@combine_"+r+".eval");return[e,n.finish.bind(n)]})},createSandbox:function(){var e=Object.create(_.modules);return e.importImages=function(t){return{get:function(e){return xe+t[e].src}}},_.utils.extend({},_,{modules:e})}}),_.ns.load=function(e,t,n,r){return"function"==typeof e?t?_.ns.ready(["package.full"],e,t):_.ns.ready(["package.full"],e):("string"==typeof e&&(e=[e]),_.ns.ready.apply(this,arguments))},_.ns.modules={require:function(){return _.modules.require.apply(_.modules,arguments)},isDefined:function(){return _.modules.isDefined.apply(_.modules,arguments)},requireSync:function(){return _.modules.requireSync.apply(_.modules,arguments)},define:function(e,t,n,r){return _.modules.define.apply(_.modules,arguments),_.ns.modules},defineSync:Te("defineSync"),getDefinition:Te("getDefinition"),getState:Te("getState"),setOptions:Te("setOptions"),flush:Te("flush"),nextTick:Te("nextTick"),watchResolving:Te("watchResolving"),__modules:_.modules},function(r){function t(e,t){if(e){var n=function(e,t){var n=e;t=t.split(".");for(var r=0,o=t.length-1;r<o;r++)if(!(n=n[t[r]]))return;return{method:n[t[o]],context:n}}(r,e);n&&setTimeout(function(){n.method.call(n.context,t)})}}var o=_.vow,n=[].concat(_.project.preload,_.env.preload.load.split(",").filter(Boolean)),i=_.performance.startMeasure("ymaps.preload"),s=_.modules.require(n).then(function(e){_.utils.registerImports(_.ns,n,e),i.finish(),t(_.env.preload.onLoad,_.ns)},function(e){return t(_.env.preload.onError,e),o.reject(e)}),a="complete"===document.readyState||"interactive"===document.readyState?o.resolve():new o.Promise(function(e){document.addEventListener("DOMContentLoaded",e,!1),document.addEventListener("load",e,!1)});_.ns.ready=function(){c&&(_.performance.saveMeasure("ymaps.readyDelay",_.performance.now()-_.performance.initTimings.responseEnd),c=!1);var t=_.performance.startMeasure("ymaps.ready"),n={};arguments.length&&(1!=arguments.length||"object"!=typeof arguments[0]||arguments[0].length?"function"!=typeof arguments[0]?(n.require="string"==typeof arguments[0]?[arguments[0]]:arguments[0],n.successCallback=arguments[1],n.errorCallback=arguments[2]&&"function"==typeof arguments[2]?arguments[2]:null,n.context=arguments[2]&&"object"==typeof arguments[2]?arguments[2]:arguments[3]):(n.successCallback=arguments[0],n.errorCallback=arguments[1]&&"function"==typeof arguments[1]?arguments[1]:null,n.context=arguments[1]&&"object"==typeof arguments[1]?arguments[1]:arguments[2]):n=arguments[0]);var r=n.require||[],e=o.all([_.modules.require(r),s,a]).spread(function(e){return _.utils.registerImports(_.ns,r,e),t.finish(),_.ns});return e.then(n.successCallback&&function(e){setTimeout(n.successCallback.bind(n.context),0,e)},n.errorCallback&&function(e){setTimeout(n.errorCallback.bind(n.context),0,e)}),e};var c=!0}(this),_.env.server.params.csp&&!_.supports.csp.isSupported&&_.logger.warning("CSP is not suported in this browser"),_.modules.define("vectorEngine.loadEngine",["vow","Hotspot","Monitor","collection.Item","event.Manager","hotspot.layer.Hint","hotspot.layer.optionMapper","interactivityModel.EventController","interactivityModel.layer","option.Manager","poi.BalloonManager","util.shapeFactory"],function(e,n){if("ymaps"!==_.env.namespace)throw new Error("Vector supports only `ymaps` namespace.");if(null==_.env.vectorVersion)throw new Error("No vector version.");var r=null;e(function(){return r=r||(e=n.defer(),(t=document.createElement("script")).onload=e.resolve.bind(e),t.onerror=e.reject.bind(e),t.src=_.env.hosts.vectorIndex.replace("{{version}}",_.env.vectorVersion),_.env.vectorEngineFileName&&(t.src=t.src.replace("vector.min.js",_.env.vectorEngineFileName)),document.head.insertAdjacentElement("afterbegin",t),e.promise().catch(function(){return n.reject(new Error("Failed to load vector engine"))}));var e,t})}),_.modules.define("vectorEngine.preload",[],function(e){_.supports.vector.isSupported()&&_.modules.require(["vectorEngine.loadEngine"]).spread(function(e){e()}),e({})}),_.modules.allowRemoteLoading(),_.env.namespace&&_.utils.setDeep(g,_.env.namespace,_.ns),_.performance.init({url:_.env.hosts.api.statCounter+"/counter",data:"/path="+_.env.version.replace(/\W/g,"_")+"."+_.env.browser.platform,enable:"all"==_.env.counters||Math.random()<.01&&!_.env.server.params.debug,initUrl:document.currentScript&&document.currentScript.src,useSendBeacon:!_.env.server.params.csp}),_.env.hasValidApiKey||(_.env.apikey=void 0)!==_.env.hasValidApiKey&&console.warn("(Yandex Maps JS API): Invalid API key"),z.finish()}({vectorVersion:"5.3.3",vectorVersionTimestamp:1583054215650,cacheVersion:null,type:"production",flags:[],server:{url:"https://api-maps.yandex.ru/2.1.75",path:"build/release",params:{apikey:"f8fb64ba-4407-47da-bb63-a1fac1a4f6ba",mode:"release",ns:"ymaps",csp:null}},preload:{load:"package.full"},mode:"release",debug:!1,namespace:"ymaps",enterprise:!1,apikey:"f8fb64ba-4407-47da-bb63-a1fac1a4f6ba",hasValidApiKey:!0,hasApiKeyParam:!0,browser:{name:"Firefox",version:"73.0",base:"Unknown",engine:"Gecko",engineVersion:"73.0",osName:"Windows 10",osFamily:"Windows",osVersion:"10.0",isMobile:!1,isTablet:!1,multiTouch:!1,platform:"Desktop",cssPrefix:"Moz"},lang:"ru_RU",languageCode:"ru",countryCode:"RU",hosts:{api:{main:"https://api-maps.yandex.ru/",ua:"https://yandex.ru/legal/maps_termsofuse/?lang={{lang}}",maps:"https://yandex.ru/maps/",statCounter:"https://yandex.ru/clck/",services:{coverage:"https://api-maps.yandex.ru/services/coverage/",geocode:"https://geocode-maps.yandex.ru/",geoxml:"https://api-maps.yandex.ru/services/geoxml/",inception:"https://api-maps.yandex.ru/services/inception/",panoramaLocate:"https://api-maps.yandex.ru/services/panoramas/",search:"https://api-maps.yandex.ru/services/search/",suggest:"https://suggest-maps.yandex.ru/",regions:"https://api-maps.yandex.ru/services/regions/",route:"https://api-maps.yandex.ru/services/route/"}},layers:{map:"https://vec0%d.maps.yandex.net/tiles?l=map&%c&%l",mapj:"https://vec0%d.maps.yandex.net/tiles?l=mapj&%c&%l",sat:"https://core-sat.maps.yandex.net/tiles?l=sat&%c&%l",skl:"https://vec0%d.maps.yandex.net/tiles?l=skl&%c&%l",sklj:"https://vec0%d.maps.yandex.net/tiles?l=sklj&%c&%l",stv:"https://0%d.core-stv-renderer.maps.yandex.net/2.x/tiles?l=stv&%c&v=%v&%l&format=png",sta:"https://0%d.core-stv-renderer.maps.yandex.net/2.x/tiles?l=sta&%c&v=%v&%l&format=png",staHotspot:"https://core-stv-renderer.maps.yandex.net/2.x/tiles?l=stj&%c&v=%v&format=js",staHotspotKey:"%c&l=stj&tm=%v",carparks:"https://core-carparks-renderer-lots.maps.yandex.net/"},metro_RU:"https://yandex.ru/metro/",metro_UA:"https://yandex.ua/metro/",metro_BY:"https://yandex.by/metro/",metro_US:"https://yandex.com/metro/",traffic:"https://core-jams-rdr.maps.yandex.net/",trafficInfo:"https://core-jams-info.maps.yandex.net/",trafficArchive:"https://core-jams-rdr-hist.maps.yandex.net/",vectorIndex:"https://yastatic.net/s3/mapsapi-v3/vector/{{version}}/out/vector.min.js",vectorMapTiles:"https://vec0{{hostAlias}}.maps.yandex.net/vmap2/",indoorTiles:"https://vec0{{hostAlias}}.maps.yandex.net/",panoramasTiles:"https://pano.maps.yandex.net/%s/%z.%x.%y",taxiRouteInfo:"https://taxi-routeinfo.taxi.yandex.net/taxi_info?clid=yamaps&apikey=f6d7c076e16e4d53a928961595e76215&rll={rll}"},layers:{map:{version:"20.02.28-1",scaled:!0,hotspotZoomRange:[8,23]},sat:{version:"3.552.0"},skl:{version:"20.02.28-1",scaled:!0,hotspotZoomRange:[8,23]},stv:{version:"2020.02.28.18.24-1"},sta:{version:"2020.02.28.18.24-1"},trf:{version:"1583054250",scaled:!0},carparks:{version:"20200228-222845"}},geolocation:{longitude:37.622504,latitude:55.753215,isHighAccuracy:!1,span:{longitude:1.164423,latitude:.878654}},token:"dc1cb52062643d2407f3f526b9834a2f",distribution:{},version:"2.1.75",majorVersion:"2.1",cssPrefix:"ymaps-2-1-75-",coordinatesOrder:"latlong"},null),ymaps.ready(init);